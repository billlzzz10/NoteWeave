# การตั้งค่าการแบ่ง Chunk ใน NoteWeave

## ความสำคัญของขนาด Chunk

การแบ่งเอกสารเป็น chunk เป็นส่วนสำคัญในการทำ RAG (Retrieval-Augmented Generation) เพราะจะส่งผลต่อ:

1. **ความแม่นยำในการค้นหา**: chunks ที่เล็กเกินไปอาจไม่มีบริบทเพียงพอ ในขณะที่ chunks ที่ใหญ่เกินไปอาจมีข้อมูลที่ไม่เกี่ยวข้องมากเกินไป
2. **ประสิทธิภาพในการสร้างคำตอบ**: AI จะสามารถสร้างคำตอบได้ดีขึ้นถ้า chunks มีข้อมูลที่เกี่ยวข้องและมีบริบทที่เพียงพอ
3. **การใช้ทรัพยากร**: chunks ที่ใหญ่เกินไปจะใช้ทรัพยากรมากขึ้นในการประมวลผลและจัดเก็บ

## พารามิเตอร์ที่ปรับแต่งได้

### 1. ขนาด Chunk (Chunk Size)

จำนวนตัวอักษรโดยประมาณในแต่ละ chunk

- **ค่าที่แนะนำ**: 1,000-1,500 ตัวอักษร
- **เมื่อเพิ่มค่า**: เพิ่มบริบทแต่อาจลดความแม่นยำในการค้นหา
- **เมื่อลดค่า**: เพิ่มความแม่นยำแต่อาจลดบริบทที่จำเป็น

### 2. ส่วนที่ซ้อนทับ (Chunk Overlap)

จำนวนตัวอักษรที่ซ้อนทับกันระหว่าง chunks เพื่อรักษาบริบท

- **ค่าที่แนะนำ**: 100-200 ตัวอักษร
- **เมื่อเพิ่มค่า**: เพิ่มความต่อเนื่องระหว่าง chunks แต่ใช้พื้นที่จัดเก็บมากขึ้น
- **เมื่อลดค่า**: ประหยัดพื้นที่จัดเก็บแต่อาจสูญเสียความต่อเนื่อง

### 3. ขนาด Chunk ขั้นต่ำ (Min Chunk Size)

ขนาดขั้นต่ำของ chunk ที่ยอมรับได้ (chunks ที่เล็กกว่านี้จะถูกรวมกับ chunk อื่น)

- **ค่าที่แนะนำ**: 200-300 ตัวอักษร
- **เมื่อเพิ่มค่า**: ลดจำนวน chunks ขนาดเล็กที่อาจไม่มีประโยชน์
- **เมื่อลดค่า**: อนุญาตให้มี chunks ขนาดเล็กที่อาจมีข้อมูลสำคัญ

### 4. แบ่งตามย่อหน้า (Split by Paragraph)

พยายามแบ่ง chunks ตามย่อหน้า (บรรทัดว่าง) เพื่อรักษาโครงสร้างของเนื้อหา

- **เปิด**: รักษาโครงสร้างเนื้อหาได้ดีกว่า แต่อาจทำให้ขนาด chunk ไม่สม่ำเสมอ
- **ปิด**: ขนาด chunk จะสม่ำเสมอกว่า แต่อาจตัดเนื้อหาในจุดที่ไม่เหมาะสม

### 5. รักษาโค้ดบล็อก (Respect Code Blocks)

ไม่แบ่งโค้ดบล็อก (ระหว่าง ```) เพื่อรักษาโครงสร้างของโค้ด

- **เปิด**: รักษาโครงสร้างของโค้ดได้ดีกว่า เหมาะสำหรับเอกสารเกี่ยวกับการเขียนโปรแกรม
- **ปิด**: อาจทำให้โค้ดถูกตัดกลางคัน แต่ทำให้ขนาด chunk สม่ำเสมอมากขึ้น

## คำแนะนำในการปรับแต่ง

### สำหรับเอกสารทั่วไป

```
ขนาด Chunk: 1,000 ตัวอักษร
ส่วนที่ซ้อนทับ: 150 ตัวอักษร
ขนาด Chunk ขั้นต่ำ: 250 ตัวอักษร
แบ่งตามย่อหน้า: เปิด
รักษาโค้ดบล็อก: ปิด
```

### สำหรับเอกสารเขียนโปรแกรม

```
ขนาด Chunk: 1,200 ตัวอักษร
ส่วนที่ซ้อนทับ: 200 ตัวอักษร
ขนาด Chunk ขั้นต่ำ: 300 ตัวอักษร
แบ่งตามย่อหน้า: เปิด
รักษาโค้ดบล็อก: เปิด
```

### สำหรับเอกสารยาวหรือซับซ้อน

```
ขนาด Chunk: 1,500 ตัวอักษร
ส่วนที่ซ้อนทับ: 250 ตัวอักษร
ขนาด Chunk ขั้นต่ำ: 400 ตัวอักษร
แบ่งตามย่อหน้า: เปิด
รักษาโค้ดบล็อก: เปิด
```

## หมายเหตุ

การตั้งค่าที่เหมาะสมอาจแตกต่างกันไปตามลักษณะของเอกสารของคุณ การทดลองปรับค่าและทดสอบด้วยคำถามจริงจะช่วยให้คุณพบการตั้งค่าที่เหมาะสมที่สุดสำหรับข้อมูลของคุณ
